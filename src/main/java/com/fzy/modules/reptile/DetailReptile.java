package com.fzy.modules.reptile;

import com.geccocrawler.gecco.GeccoEngine;
import com.geccocrawler.gecco.annotation.Gecco;
import com.geccocrawler.gecco.annotation.HtmlField;
import com.geccocrawler.gecco.annotation.RequestParameter;
import com.geccocrawler.gecco.annotation.Text;
import com.geccocrawler.gecco.request.HttpGetRequest;
import com.geccocrawler.gecco.request.HttpRequest;
import com.geccocrawler.gecco.spider.HtmlBean;

import java.util.List;

/**
 * @author fuzhongyu
 * @date 2017/12/23
 */
@Gecco(matchUrl="http://zt.zjzs.net/xuanke2018/{no}.html", pipelines="dataPipeline")
public class DetailReptile implements HtmlBean{

    private static final long serialVersionUID = -7127412585200687225L;

    @RequestParameter("no")
    private String no;


    @Text
    @HtmlField(cssPath=".search table tr:gt(0) td:eq(1)")
    private List<String> categoryNameList;


    @Text
    @HtmlField(cssPath=".search table tr:gt(0) td:eq(3)")
    private List<String> subjectList;

    @Text
    @HtmlField(cssPath=".search table tr:gt(0) td:eq(4)")
    private List<String> majorNameList;

    public String getNo() {
        return no;
    }

    public void setNo(String no) {
        this.no = no;
    }


    public List<String> getCategoryNameList() {
        return categoryNameList;
    }

    public void setCategoryNameList(List<String> categoryNameList) {
        this.categoryNameList = categoryNameList;
    }

    public List<String> getSubjectList() {
        return subjectList;
    }

    public void setSubjectList(List<String> subjectList) {
        this.subjectList = subjectList;
    }

    public List<String> getMajorNameList() {
        return majorNameList;
    }

    public void setMajorNameList(List<String> majorNameList) {
        this.majorNameList = majorNameList;
    }

    public static void main(String[] args) {

        String[] strings=new String[]{"10001","10002","10003","10004","10005","10006","10007","10008","10010","10011","10012","10013","10015","10016","10017","10018","10019","10020","10022","10023","10025","10026","10027","10028","10029","10030","10031","10032","10033","10034","10036","10037","10038","10040","10041","10042","10043","10045","10046","10047","10048","10049","10050","10051","10052","10053","10054","10853","10858","11149","11232","11413","11414","11415","11417","11418","11625","11831","12453","12564","12566","12567","12568","12802","13629","13630","13703","13728","13901","13904","14139","14201","14430","19001","19013","90020","90023","90034","10055","10056","10057","10058","10059","10060","10061","10062","10063","10065","10066","10068","10069","10070","10071","10072","10073","10080","10792","11032","11126","11908","12484","12487","12720","12721","12722","12723","12732","12788","12803","12882","12883","13658","13660","13661","13663","13700","13702","13896","13897","13898","14021","14022","14038","14087","90027","10075","10076","10077","10079","10081","10082","10084","10089","10092","10093","10094","10099","10100","10101","10103","10104","10107","10216","10798","11104","11105","11420","11629","11775","11821","11832","11903","11964","12773","12784","13391","13392","13397","13402","13404","13414","13415","13417","13578","13584","13592","13593","13596","13891","13895","13899","14018","14202","14432","19145","51721","10108","10109","10110","10112","10113","10114","10118","10119","10120","10123","10125","10809","12775","12776","13533","13538","14101","14434","10126","10127","10128","10129","10132","10135","10136","10139","10819","10871","18127","10140","10141","10142","10143","10144","10145","10146","10147","10148","10149","10150","10151","10152","10153","10154","10157","10158","10159","10160","10161","10162","10163","10164","10165","10166","10167","10169","10172","10173","10175","10176","10177","10178","10841","11035","11258","11632","11779","12026","12895","12899","13198","13201","13207","13208","13212","13218","13220","13599","13609","13631","13900","19141","90040","10183","10184","10186","10188","10190","10191","10192","10193","10200","10201","10202","10203","10204","10205","10206","10207","10208","10209","10847","10964","11261","11436","11437","11439","11440","11726","11823","12049","12901","12903","13600","13601","13602","13603","13604","13605","13606","13607","13622","13623","13662","13706","14052","10212","10213","10214","10217","10219","10220","10222","10223","10224","10225","10226","10228","10229","10231","10232","10233","10234","10235","10236","10240","10242","10245","11046","11230","11445","11446","11802","11959","12053","12727","12907","13296","13298","13300","13307","13447","10246","10247","10248","10251","10252","10254","10255","10256","10259","10262","10264","10268","10269","10270","10271","10272","10273","10274","10275","10276","10277","10278","10279","10280","10851","10852","10856","11047","11458","11733","11833","11835","12044","12050","12493","12497","12498","12499","12583","12584","12586","12587","12588","12798","12799","12800","12801","12912","12913","12914","12915","13632","13636","13747","13893","14394","14423","16404","19246","19248","90030","10284","10285","10286","10287","10288","10289","10290","10291","10292","10293","10294","10295","10298","10299","10300","10304","10305","10307","10312","10313","10315","10316","10319","10320","10323","10324","10327","10329","10330","10331","10332","10333","10849","10850","10960","11048","11049","11051","11052","11053","11054","11055","11117","11122","11276","11287","11460","11462","11463","11466","11641","12047","12048","12056","12078","12317","12679","12680","12684","12687","12688","12689","12702","12804","12806","12807","12808","12809","12918","12920","12921","12922","12923","13017","13100","13101","13102","13103","13104","13106","13108","13112","13113","13114","13137","13571","13646","13654","13655","13687","13748","13749","13750","13751","13753","13754","13842","13843","13905","13906","13962","13963","13964","13980","13982","13983","13984","13986","13987","13988","13989","13990","13991","13993","13994","14056","14163","14180","14295","14401","14528","14568","16302","19002","90006","10335","10336","10337","10338","10340","10341","10343","10344","10345","10346","10347","10349","10350","10351","10352","10353","10354","10355","10356","10829","10863","10864","10876","11057","11058","11481","11482","11483","11488","11646","11647","11842","11956","12036","12061","12645","12647","12789","12790","12791","12792","12861","12862","12863","12864","12865","12866","12867","12868","12869","12870","12871","12872","12874","12875","12876","12877","12878","13001","13002","13003","13021","13022","13023","13025","13026","13027","13028","13029","13030","13275","13276","13277","13279","13280","13282","13283","13284","13285","13286","13287","13288","13289","13290","13291","13292","13294","13637","13688","13742","13746","13853","13854","14088","14089","14090","14206","14207","14269","14275","14431","14492","14535","16301","16405","16408","50559","10357","10358","10359","10360","10361","10363","10364","10366","10367","10368","10369","10370","10371","10372","10373","10375","10377","10378","10380","10381","10869","10878","10879","10963","11059","11061","11305","11306","11308","11961","11968","12072","12219","13058","13059","13336","13339","13340","13611","13612","13613","13614","13615","13617","13618","13619","13845","13846","13849","14203","14296","19359","10384","10385","10386","10388","10389","10390","10392","10393","10394","10395","10397","10399","10402","10866","11062","11311","11312","11502","12626","12627","12628","12629","12634","12709","12710","12927","12928","13468","13469","13470","13471","13472","13762","13766","13767","13768","13770","13773","13973","13977","13979","14059","14111","14231","14232","10403","10404","10405","10406","10407","10408","10410","10412","10413","10414","10416","10417","10418","10419","10421","10846","10888","10894","10895","11318","11319","11505","11508","11785","11843","12766","12795","12929","12930","12932","12933","12938","12939","12940","12941","12942","12943","13418","13419","13420","13421","13422","13423","13425","13429","13431","13432","13433","13434","13435","13436","13437","13438","13440","13441","13774","13775","13776","13867","13868","13869","13870","13871","14168","14476","14494","14537","10422","10423","10424","10425","10426","10427","10429","10430","10431","10433","10434","10435","10438","10439","10440","10441","10442","10443","10445","10446","10447","10448","10449","10451","10452","10453","10456","10458","10825","10832","10868","10904","10908","11065","11066","11067","11510","11688","12062","12324","12328","12332","12440","12844","12947","13006","13010","13011","13014","13015","13320","13321","13322","13324","13356","13378","13383","13386","13995","13997","13998","13999","14002","14080","14327","19213","19422","10078","10459","10460","10462","10463","10464","10465","10466","10467","10469","10471","10472","10475","10476","10477","10478","10479","10480","10481","10482","10483","10484","10485","10843","10918","11068","11069","11070","11071","11330","11517","11522","11653","11765","11834","11967","12058","12735","12747","13499","13500","13501","13507","13508","13780","13782","13785","13791","14040","90005","10486","10487","10488","10489","10490","10491","10495","10496","10497","10500","10504","10507","10511","10512","10513","10517","10518","10519","10520","10522","10523","10524","10525","10528","10834","10920","10927","10929","10955","10956","11072","11074","11075","11334","11335","11336","11524","11600","11654","11796","11800","11965","12051","12052","12309","12310","12347","12354","12362","12737","12738","12740","12744","12752","12952","12977","12978","12979","12980","12982","12983","12984","12985","12988","12989","12990","12991","13188","13234","13235","13236","13238","13239","13240","13241","13242","13245","13247","13248","13249","13251","13262","13264","13265","13266","13664","13666","13686","13793","13796","13798","13799","13800","13801","14035","14061","14099","90038","90047","10530","10531","10532","10533","10534","10536","10537","10538","10541","10542","10543","10545","10546","10547","10548","10549","10551","10553","10554","10555","10823","10827","10830","10865","11077","11342","11527","11528","11532","11535","11538","12034","12055","12300","12301","12302","12303","12397","12401","12425","12596","12597","12599","12601","12604","12649","12650","12651","12657","12658","12660","12661","12662","12739","13031","13044","13045","13635","13802","13836","13921","13937","13938","13939","13940","13941","13942","14360","90002","10558","10559","10560","10561","10564","10566","10570","10571","10572","10573","10574","10576","10585","10586","10587","10590","10592","10822","10833","11106","11114","11121","11540","11545","11656","11819","11846","12040","12059","12121","12576","12618","12961","13177","13657","13675","13684","13714","13844","14325","16401","16407","10593","10594","10595","10596","10598","10600","10601","10602","10606","10607","10608","10867","11354","11548","11607","11824","11825","11837","13524","13638","13639","13640","13641","13643","13644","13830","14026","14127","10589","11100","11658","11810","11999","12308","13575","13576","13577","13811","13875","13892","13931","10611","10617","10618","10631","10635","10637","10642","10643","10647","10650","10652","10655","10870","11551","11660","11799","12616","12758","12759","13548","13588","13589","13590","13591","13627","14008","14009","90025","90031","10610","10613","10614","10615","10616","10619","10621","10623","10624","10626","10632","10633","10634","10636","10638","10639","10640","10641","10649","10651","10654","10656","11079","11116","11552","12064","12638","12639","12761","12763","12764","12964","13665","13668","13669","13670","13671","13672","13673","13705","13903","14037","14039","14043","19614","10657","10660","10661","10662","10668","10670","10671","12336","12821","13648","13649","14440","10673","10674","10676","10677","10678","10679","10681","10684","10687","10689","10691","11390","11391","11392","11556","11557","12560","12851","13326","13328","13330","13332","13625","13626","10697","10698","10699","10700","10701","10702","10703","10704","10705","10708","10709","10710","10712","10716","10718","10719","10720","10721","10722","10723","10724","10726","10727","10728","10729","11080","11396","11400","11560","11664","11736","11826","12712","12713","12714","12715","12830","13121","13123","13125","13569","13677","13679","13680","13681","13682","13894","13945","14041","14042","90032","90045","90059","90202","10730","10731","10732","10733","10736","10737","10739","10741","10742","10838","11406","13511","13512","13514","13515","10743","10748","10749","10752","11407","12544","13325","10755","10758","10759","10762","10766","10994","12734","13558","13560","13561","81002","81006"};

//        String[] strs=new String[]{"10335"};

//        String[] strings=new String[]{"10001","10002"};
        for (String str:strings){
            new Thread(){
                @Override
                public void run(){
                    String classpath = "com.fzy.modules.reptile";
                    String url = "http://zt.zjzs.net/xuanke2018/"+str+".html";
                    HttpRequest request = new HttpGetRequest(url);
                    request.setCharset("utf-8");
                    // 如果pipeline和htmlbean不在同一个包，classpath就要设置到他们的共同父包
                    // 本引擎主要是把京东分类的页面手机板块给抓取过来封装成htmlbean
                    GeccoEngine.create().classpath(classpath).start(request).thread(10).interval(2000).start();

                    // 本引擎是负责抓取每一个细目对应的页面的第一页的所有商品列表的数据，开启5个线程同时抓取，提升效率
//        GeccoEngine.create().classpath(classpath).start(AllSortPipeline.cateRequests).thread(5)
//                .interval(2000).run();
                }
            }.start();

            try {
                Thread.sleep(500);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

        }




    }

}
